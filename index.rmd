---
title: "Projections for the Covid-19 pandemic"
author: Raphael Volz (rv@volzinnovation.com)
date: Last updated on `r Sys.Date()`
output: bookdown::html_document2
params:
country: Germany
---

```{r, echo=F}
library(stringr)
library(knitr)
d = read.csv("models/history.csv")
last_d = d$date[nrow(d)]
d = subset(d, date == last_d)
# str(d)
# Choose only those with true assessment
converged = subset(d,  assessment == TRUE)

#converged = subset(d,  t_convergence > 0)
#
filename = str_replace_all(converged$country, c(" "="","\\*"="","US"="USA","'"=""))
link = paste0("[",converged$country,"](https://www.volzinnovation.com/covid-19_SARS-CoV-2_corona/reports/latest/",filename,".html)")

df = data.frame(country=link, current=converged$cum_cases, 
future=converged$I_max_c -converged$cum_cases,
max=converged$I_max_c)

df$future = ifelse(df$future>0,df$future,0)
df$max = ifelse(df$future==0,df$current,df$max)

EU_max = 
d[d$country=="Austria",]$I_max_c +
d[d$country=="Italy",]$I_max_c +
d[d$country=="Belgium",]$I_max_c +
d[d$country=="Latvia",]$I_max_c +
d[d$country=="Bulgaria",]$I_max_c +
d[d$country=="Lithuania",]$I_max_c +
d[d$country=="Croatia",]$I_max_c +
d[d$country=="Luxembourg",]$I_max_c +
d[d$country=="Cyprus",]$I_max_c +
d[d$country=="Malta",]$I_max_c +
d[d$country=="Czechia",]$I_max_c +
d[d$country=="Netherlands",]$I_max_c +
d[d$country=="Denmark",]$I_max_c +
d[d$country=="Poland",]$I_max_c +
d[d$country=="Estonia",]$I_max_c +
d[d$country=="Portugal",]$I_max_c +
d[d$country=="Finland",]$I_max_c +
d[d$country=="Romania",]$I_max_c +
d[d$country=="France",]$I_max_c +
d[d$country=="Slovakia",]$I_max_c +
d[d$country=="Germany",]$I_max_c +
d[d$country=="Slovenia",]$I_max_c +
d[d$country=="Greece",]$I_max_c +
d[d$country=="Spain",]$I_max_c +
d[d$country=="Hungary",]$I_max_c +
d[d$country=="Sweden",]$I_max_c +
d[d$country=="Ireland",]$I_max_c

EU_current =
d[d$country=="Austria",]$cum_cases +
d[d$country=="Italy",]$cum_cases +
d[d$country=="Belgium",]$cum_cases +
d[d$country=="Latvia",]$cum_cases +
d[d$country=="Bulgaria",]$cum_cases +
d[d$country=="Lithuania",]$cum_cases +
d[d$country=="Croatia",]$cum_cases +
d[d$country=="Luxembourg",]$cum_cases +
d[d$country=="Cyprus",]$cum_cases +
d[d$country=="Malta",]$cum_cases +
d[d$country=="Czechia",]$cum_cases +
d[d$country=="Netherlands",]$cum_cases +
d[d$country=="Denmark",]$cum_cases +
d[d$country=="Poland",]$cum_cases +
d[d$country=="Estonia",]$cum_cases +
d[d$country=="Portugal",]$cum_cases +
d[d$country=="Finland",]$cum_cases +
d[d$country=="Romania",]$cum_cases +
d[d$country=="France",]$cum_cases +
d[d$country=="Slovakia",]$cum_cases +
d[d$country=="Germany",]$cum_cases +
d[d$country=="Slovenia",]$cum_cases +
d[d$country=="Greece",]$cum_cases +
d[d$country=="Spain",]$cum_cases +
d[d$country=="Hungary",]$cum_cases +
d[d$country=="Sweden",]$cum_cases +
d[d$country=="Ireland",]$cum_cases

EU_future = EU_max - EU_current

row = data.frame(country="_European Union_", 
                 current= EU_current, future=EU_future, 
                 max = EU_max)
df = rbind(df, row)
```

# Fast Facts

* Reliable forecasts can be currently be found for  `r nrow(converged)` (out of `r nrow(d)`) countries that have reported COVID-19 cases according to the [Johns Hopkins University data set](https://github.com/CSSEGISandData/COVID-19/blob/master/csse_covid_19_data/csse_covid_19_time_series/).

* Those models have predicted the last known cases for an average of  `r round(mean(converged$day - converged$t_convergence), digits=0) ` days ahead.

* An additional **`r format(sum(converged$I_max_c) - sum(converged$cum_cases), digits=0, big.mark=",")`** new cases will appear in the next days and weeks in those countries.

* Their total will be at least  **`r format(sum(converged$I_max_c), digits=0, big.mark=",")`** cases based on the estimates for the countries listed below.

* Assuming 7.5% case fatality rate the pandemic kills at least **`r format(round(sum(converged$I_max_c *0.075 ), digits=0), big.mark=",")`** people in those countries.


# Projections per country

Follow the link for country specific reports. 

```{r, echo=F}
kable(df,     
      format.args = list(big.mark = ",",scientific = FALSE),
     col.names=c("Country", "Current Cases", "Future Cases (1)", "Total"))
```
_Notes:_

1. If future cases are 0, the first wave has ended in the country according to our model and the Virus is now in an endemic phase, where new cases will pop up and need to be handled efficiently.

2. We could not yet find *reliable* models countries that are not listed above, but are updating the list and our assessment on a daily basis.

**Disclaimer:** This is preliminary research provided on a timely basis for information only. It is not intended as commercial, legal, medical, financial or political advice.

# Frequently Asked Question (FAQ)

## What is this ?
An analysis of Covid-19 case time series around the world with projections and forecasts how cases numbers might grow in the week ahead due to the spread of SARS-CoV-2 (Corona) virus infections.

## How does this work ?

* We use the [Johns Hopkins University data set published on Github by the CSSE group](https://github.com/CSSEGISandData/COVID-19/blob/master/csse_covid_19_data/csse_covid_19_time_series/).
* The published reports are updated daily.
* [Models are open source](https://github.com/volzinnovation/covid-19_SARS-CoV-2_corona/tree/master/src) and can be run with the [free statistical software R](https://www.r-project.org/) on your system of choice.

## Whom should I contact for questions ?

Please contact Raphael Volz (rv@volzinnovation.com) in case of questions about the analyses. Your feedback is welcome!